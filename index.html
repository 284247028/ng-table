<!DOCTYPE html>
<!--[if lt IE 7]> <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]> <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]> <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width">

        <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->

        <link rel="stylesheet" href="css/bootstrap.css">
        <link rel="stylesheet" href="css/table.css">
        <script src="js/jquery-1.9.1.min.js"></script>
        <script src="js/angular.min.js"></script>
        <script src="https://raw.github.com/esvit/ng-table/master/js/grid.js"></script>
    </head>
    <body ng-app="app" ng-controller="IndexCtrl">
        <div class="navbar">
          <div class="fill">
            <div class="container">
              <a href="/preview/twitter" class="navbar-brand">ngTable</a>
              <ul class="nav">
                <li><a href="https://github.com/esvit/ng-table">GitHub project</a></li>
              </ul>

              <div class="pull-right" style="padding: 12px 0;">
                <iframe width="100px" scrolling="0" height="20px" frameborder="0" allowtransparency="true" src="http://ghbtns.com/github-btn.html?user=esvit&amp;repo=ng-table&amp;type=watch&amp;count=true" class="github-btn"></iframe>
                <iframe width="102px" scrolling="0" height="20px" frameborder="0" allowtransparency="true" src="http://ghbtns.com/github-btn.html?user=esvit&amp;repo=ng-table&amp;type=fork&amp;count=true" class="github-btn"></iframe>
              </div>
            </div>
          </div>
        </div>

    
        <div class="container">
            
            <div class="page-header">
                <h1>Example</h1>
            </div>

            <button class="btn" ng-class="{ 'active': filter.active }" ng-click="filter.active = !filter.active">Show filter</button>
            
            {[params|json]}

            <table grid="update" pager="pager" class="table-striped table-condensed table-hover">
                <tr ng-repeat="article in articles">
                    <td width="20">
                        <input type="checkbox" ng-model="article.checked" />
                    </td>
                    <td sortable="title" filter="{ 'title': 'text' }" title="Title">
                        <a href="#!/article/edit{[article.id]}">{[article.title]}</a>
                    </td>
                    <td filter="{ 'user_id': 'select' }" filter-data="users" sortable="user_id" width="140" title="Author">
                        {[article.user]}
                    </td>
                    <td filter="{ 'created_at': 'date' }" sortable="created_at" width="140" title="Date of creation" class="text-center">
                        {[article.created_at|date:'yyyy-MM-dd']}<br/>
                        {[article.created_at|date:'HH:mm:ss']}
                    </td>
                    <td sortable="publish" width="130" title="Published">
                        <input type="checkbox" ng-model="article.publish">
                    </td>
                    <td filter="{ 'action': 'button' }" width="95" title="Actions" class="text-center">
                        <div class="btn-group">
                            <button ng-click="delete(column)" class="btn btn-danger"><span class="glyphicon glyphicon-trash glyphicon glyphicon-white"></span></button>
                        </div>
                    </td>
                </tr>
            </table>

        </div>

        <script>
        var app = angular.module('app', ['ngTable']).
            config(function($interpolateProvider){
                $interpolateProvider.startSymbol('{[').endSymbol(']}'); // Twig noConflict
            });

        function IndexCtrl($scope, $http, $q, $timeout) {
            var generateData = function(page, count) {
                var data = [];
                for (var i = 0; i < 10; i++) {
                    var id = i + (page - 1) * count;
                    data.push({
                        'id': id,
                        'title': id + ') Lorem ipsum dolor sit amet, consectetuer adipiscing elit',
                        'created_at': 1358416700000,
                        'publish': true,
                        'user_id': 1,
                        'user': 'Ivan Fakov'
                    });
                }
                return data;
            }

            $scope.update = function(params) {
                $scope.params = params;
                $scope.pager = {
                    current: params.page,
                    count: 6,
                    countPerPage: params.count
                }
                $scope.articles = generateData(params.page, params.count);
            }
            $scope.users = function() {
                var data = [
                    { id: 1, title: 'Vasya' },
                    { id: 2, title: 'Petya' }
                ];
                var q = $q.defer();
                $timeout(function() {
                    q.resolve(data);
                }, 0);
                return q.promise;
            }
            $scope.update({
                page: 1,
                count: 10
            });
        }
        </script>

    
    </body>
</html>